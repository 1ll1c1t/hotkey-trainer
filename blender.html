<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blender 4.3 Master Trainer | Truth and Light</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-brand { background: linear-gradient(135deg, #f97316 0%, #dc2626 100%); }
        .gradient-text { background: linear-gradient(135deg, #f97316 0%, #dc2626 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .option-card { transition: all 0.2s; border: 2px solid #f3f4f6; cursor: pointer; background: white; }
        .option-card:hover:not(.locked) { border-color: #f97316; transform: translateY(-3px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .correct { background-color: #10b981 !important; color: white !important; border-color: #059669 !important; }
        .wrong { background-color: #ef4444 !important; color: white !important; border-color: #b91c1c !important; }
        .streak-fire { animation: bounce 0.5s infinite alternate; }
        @keyframes bounce { from { transform: scale(1); } to { transform: scale(1.1); } }
        /* Custom scrollbar for the reference list */
        .custom-scroll::-webkit-scrollbar { width: 5px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f1f1; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #f97316; border-radius: 10px; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <nav class="bg-white border-b sticky top-0 z-50 px-6 py-4 shadow-sm">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 gradient-brand rounded-xl flex items-center justify-center shadow-lg text-white font-black">B</div>
                <div>
                    <h1 class="font-black text-xl leading-none gradient-text">BLENDER TRAINER</h1>
                    <p class="text-[10px] font-bold text-gray-400 uppercase tracking-tighter">Truth and Light, The Beginning and the End</p>
                </div>
            </div>
            <div class="flex items-center space-x-6">
                <div class="text-right">
                    <p class="text-[10px] font-bold text-gray-400 uppercase">Personal Best</p>
                    <p id="high-score" class="font-black text-xl">0</p>
                </div>
                <a href="index.html" class="bg-black text-white px-4 py-2 rounded-lg font-bold text-xs hover:bg-gray-800 transition-all">EXIT</a>
            </div>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto px-6 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <div class="space-y-6">
                <div class="bg-white rounded-3xl p-6 shadow-xl border border-gray-100">
                    <div class="flex justify-between items-center mb-4">
                        <span id="rank-name" class="font-black text-orange-600 uppercase text-xs tracking-widest">Rank: Novice</span>
                        <span id="streak-display" class="font-black text-gray-400 text-xs">STREAK: 0</span>
                    </div>
                    <div class="text-5xl font-black mb-2" id="current-score">0</div>
                    <p class="text-gray-400 text-xs font-bold uppercase mb-4 text-right">Points Earned</p>
                    <div class="w-full bg-gray-100 rounded-full h-3 overflow-hidden">
                        <div id="xp-bar" class="gradient-brand h-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                </div>

                <div class="bg-white rounded-3xl p-6 shadow-xl border border-gray-100 h-[450px] flex flex-col">
                    <h3 class="font-black text-sm mb-4 text-gray-400 uppercase tracking-widest">Study Guide</h3>
                    <input type="text" id="search-bar" placeholder="Filter hotkeys..." class="w-full bg-gray-50 border rounded-xl px-4 py-3 mb-4 focus:ring-2 focus:ring-orange-500 outline-none font-medium text-sm">
                    <div id="reference-list" class="overflow-y-auto flex-grow space-y-2 custom-scroll">
                        </div>
                </div>
            </div>

            <div class="lg:col-span-2">
                <div id="quiz-box" class="bg-white rounded-[40px] p-8 md:p-12 shadow-2xl border-4 border-white text-center min-h-[550px] flex flex-col justify-center relative">
                    
                    <div id="question-state">
                        <div class="inline-block px-4 py-1 rounded-full bg-orange-100 text-orange-600 text-[10px] font-black uppercase mb-6 tracking-widest">Identify the key</div>
                        <h2 id="question-text" class="text-4xl md:text-5xl font-black text-gray-800 mb-12">Loading...</h2>
                        
                        <div id="choices-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            </div>
                    </div>

                    <div id="feedback-state" class="hidden">
                        <div id="feedback-icon" class="text-8xl mb-4">ðŸ”¥</div>
                        <h2 id="feedback-title" class="text-4xl font-black mb-2 uppercase">Correct!</h2>
                        <p id="feedback-msg" class="text-gray-500 font-medium mb-10"></p>
                        <button onclick="newQuestion()" class="gradient-brand text-white px-12 py-5 rounded-2xl font-black text-xl shadow-xl hover:scale-105 transition-transform active:scale-95">
                            CONTINUE â†’
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </main>

    <script>
        const database = [
            { cmd: "Grab / Move", key: "G" }, { cmd: "Rotate", key: "R" },
            { cmd: "Scale", key: "S" }, { cmd: "Extrude", key: "E" },
            { cmd: "Inset Faces", key: "I" }, { cmd: "Bevel Edge", key: "Ctrl + B" },
            { cmd: "Loop Cut", key: "Ctrl + R" }, { cmd: "Duplicate", key: "Shift + D" },
            { cmd: "Search Everything", key: "F3" }, { cmd: "Add Menu", key: "Shift + A" },
            { cmd: "Wireframe Toggle", key: "Z" }, { cmd: "Render Frame", key: "F12" },
            { cmd: "Knife Tool", key: "K" }, { cmd: "Fill Face", key: "F" },
            { cmd: "Join Objects", key: "Ctrl + J" }, { cmd: "Hide Selected", key: "H" },
            { cmd: "Unhide All", key: "Alt + H" }, { cmd: "Camera View", key: "Numpad 0" },
            { cmd: "Top View", key: "Numpad 7" }, { cmd: "Focus Selected", key: "Numpad ." },
            { cmd: "Edit/Object Toggle", key: "Tab" }, { cmd: "Select All", key: "A" }
        ];

        let score = 0;
        let streak = 0;
        let highScore = localStorage.getItem('blender_gauntlet_high') || 0;
        let currentItem = null;

        function init() {
            document.getElementById('high-score').innerText = highScore;
            updateReference();
            newQuestion();
            
            document.getElementById('search-bar').addEventListener('input', (e) => updateReference(e.target.value));
        }

        function updateReference(filter = "") {
            const list = document.getElementById('reference-list');
            list.innerHTML = "";
            const items = database.filter(i => i.cmd.toLowerCase().includes(filter.toLowerCase()) || i.key.toLowerCase().includes(filter.toLowerCase()));
            
            items.forEach(i => {
                const row = document.createElement('div');
                row.className = "flex justify-between items-center p-3 bg-gray-50 border border-gray-100 rounded-xl text-xs font-bold";
                row.innerHTML = `<span class="text-gray-600">${i.cmd}</span><span class="bg-white border px-2 py-1 rounded text-orange-600 font-black">${i.key}</span>`;
                list.appendChild(row);
            });
        }

        function newQuestion() {
            document.getElementById('question-state').classList.remove('hidden');
            document.getElementById('feedback-state').classList.add('hidden');
            
            currentItem = database[Math.floor(Math.random() * database.length)];
            document.getElementById('question-text').innerText = currentItem.cmd;

            let options = [currentItem.key];
            while(options.length < 4) {
                let randomKey = database[Math.floor(Math.random() * database.length)].key;
                if(!options.includes(randomKey)) options.push(randomKey);
            }
            options.sort(() => Math.random() - 0.5);

            const grid = document.getElementById('choices-grid');
            grid.innerHTML = "";
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = "option-card p-6 rounded-2xl font-black text-xl text-gray-700 shadow-sm";
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(opt, btn);
                grid.appendChild(btn);
            });
        }

        function checkAnswer(selected, btn) {
            const btns = document.querySelectorAll('.option-card');
            btns.forEach(b => b.classList.add('locked', 'pointer-events-none'));

            const isCorrect = selected === currentItem.key;
            if(isCorrect) {
                score += 10;
                streak++;
                btn.classList.add('correct');
            } else {
                streak = 0;
                btn.classList.add('wrong');
                btns.forEach(b => { if(b.innerText === currentItem.key) b.classList.add('correct'); });
            }

            setTimeout(() => showFeedback(isCorrect), 800);
            updateStats();
        }

        function showFeedback(correct) {
            document.getElementById('question-state').classList.add('hidden');
            document.getElementById('feedback-state').classList.remove('hidden');
            
            const title = document.getElementById('feedback-title');
            const msg = document.getElementById('feedback-msg');
            const icon = document.getElementById('feedback-icon');

            if(correct) {
                icon.innerText = "â­";
                title.innerText = "Masterful!";
                title.className = "text-4xl font-black mb-2 uppercase text-green-500";
                msg.innerText = `You correctly identified the shortcut for ${currentItem.cmd}.`;
            } else {
                icon.innerText = "âŒ";
                title.innerText = "Not Quite";
                title.className = "text-4xl font-black mb-2 uppercase text-red-500";
                msg.innerText = `The key for ${currentItem.cmd} is ${currentItem.key}.`;
            }
        }

        function updateStats() {
            document.getElementById('current-score').innerText = score;
            const streakDisplay = document.getElementById('streak-display');
            streakDisplay.innerText = `STREAK: ${streak}`;
            if(streak >= 5) streakDisplay.classList.add('streak-fire', 'text-orange-600');
            else streakDisplay.classList.remove('streak-fire', 'text-orange-600');

            if(score > highScore) {
                highScore = score;
                localStorage.setItem('blender_gauntlet_high', highScore);
                document.getElementById('high-score').innerText = highScore;
            }

            const xp = (score % 100);
            document.getElementById('xp-bar').style.width = xp + "%";
            
            let rank = "Novice";
            if(score >= 100) rank = "Apprentice";
            if(score >= 300) rank = "Artisan";
            if(score >= 500) rank = "Sculptor";
            if(score >= 1000) rank = "Master of Light";
            document.getElementById('rank-name').innerText = `Rank: ${rank}`;
        }

        init();
    </script>
</body>
</html>