<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blender 4.3 Master Trainer | Truth and Light</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-brand { background: linear-gradient(135deg, #f97316 0%, #dc2626 100%); }
        .gradient-text { background: linear-gradient(135deg, #f97316 0%, #dc2626 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .option-card { transition: all 0.2s; border: 2px solid #f3f4f6; cursor: pointer; }
        .option-card:hover { border-color: #f97316; transform: translateY(-2px); }
        .correct-anim { background-color: #10b981 !important; color: white !important; border-color: #059669 !important; }
        .wrong-anim { background-color: #ef4444 !important; color: white !important; border-color: #b91c1c !important; }
        .progress-glow { box-shadow: 0 0 15px rgba(249, 115, 22, 0.4); }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <nav class="bg-white/80 backdrop-blur-md border-b sticky top-0 z-50 px-6 py-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 gradient-brand rounded-xl flex items-center justify-center shadow-lg">
                    <span class="text-white font-black text-xl">B</span>
                </div>
                <div>
                    <h1 class="font-black text-xl leading-none gradient-text">BLENDER TRAINER</h1>
                    <p class="text-[10px] font-bold text-gray-400 tracking-widest uppercase">Truth and Light Edition</p>
                </div>
            </div>
            <div class="flex gap-6 items-center">
                <div class="text-right hidden sm:block">
                    <p class="text-[10px] font-bold text-gray-400 uppercase">Personal Best</p>
                    <p id="high-score" class="font-black text-lg">0</p>
                </div>
                <a href="index.html" class="bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg font-bold text-sm transition-all">Back to Home</a>
            </div>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto px-6 py-10">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
            
            <div class="space-y-6">
                <div class="bg-white rounded-3xl p-6 shadow-xl border border-gray-100">
                    <h2 class="font-black text-gray-400 text-xs uppercase tracking-widest mb-4">Your Mastery</h2>
                    <div class="flex items-end justify-between mb-2">
                        <span id="rank-name" class="font-black text-2xl text-gray-800">Novice</span>
                        <span id="score-val" class="font-black text-orange-600 text-3xl">0</span>
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-4 mb-2 overflow-hidden">
                        <div id="xp-bar" class="gradient-brand h-full transition-all duration-700" style="width: 0%"></div>
                    </div>
                    <p class="text-xs font-bold text-gray-400">Streak: <span id="streak-count" class="text-orange-500">0 ðŸ”¥</span></p>
                </div>

                <div class="bg-white rounded-3xl p-6 shadow-xl border border-gray-100 h-[500px] flex flex-col">
                    <h2 class="font-black text-gray-400 text-xs uppercase tracking-widest mb-4">Quick Reference</h2>
                    <input type="text" id="search-box" placeholder="Search hotkeys..." class="w-full bg-gray-50 border rounded-xl px-4 py-3 mb-4 focus:ring-2 focus:ring-orange-500 outline-none font-medium">
                    <div id="ref-list" class="overflow-y-auto flex-grow space-y-2 pr-2 custom-scrollbar">
                        </div>
                </div>
            </div>

            <div class="lg:col-span-2">
                <div id="quiz-card" class="bg-white rounded-[40px] p-8 md:p-12 shadow-2xl border border-gray-100 text-center min-h-[600px] flex flex-col justify-center relative overflow-hidden">
                    
                    <div id="question-view">
                        <span class="bg-orange-100 text-orange-600 px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest">Hotkey Challenge</span>
                        <h3 class="text-gray-400 font-bold mt-6">What is the shortcut for:</h3>
                        <h2 id="q-text" class="text-4xl md:text-5xl font-black text-gray-900 mt-2 mb-12">Loading...</h2>
                        
                        <div id="options-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            </div>
                    </div>

                    <div id="feedback-view" class="hidden">
                        <div id="result-icon" class="text-7xl mb-4">âœ¨</div>
                        <h2 id="result-text" class="text-4xl font-black mb-2">Correct!</h2>
                        <p id="result-desc" class="text-gray-500 mb-8 font-medium italic"></p>
                        <button onclick="generateQuestion()" class="gradient-brand text-white px-12 py-5 rounded-2xl font-black text-xl shadow-lg hover:scale-105 transition-transform active:scale-95">
                            NEXT CHALLENGE â†’
                        </button>
                    </div>

                </div>
            </div>

        </div>
    </main>

    <script>
        const hotkeyDatabase = [
            { cmd: "Grab / Move", key: "G", desc: "Moves the selected object along the view plane." },
            { cmd: "Rotate", key: "R", desc: "Rotates the selection relative to the view." },
            { cmd: "Scale", key: "S", desc: "Changes the size of the selection." },
            { cmd: "Extrude", key: "E", desc: "Extends a face or vertex into new geometry." },
            { cmd: "Inset", key: "I", desc: "Creates new faces within the selected faces." },
            { cmd: "Bevel", key: "Ctrl + B", desc: "Softens edges by creating chamfers." },
            { cmd: "Loop Cut", key: "Ctrl + R", desc: "Adds a ring of edges to the mesh." },
            { cmd: "Duplicate", key: "Shift + D", desc: "Creates a copy of the selected object." },
            { cmd: "Search Functions", key: "F3", desc: "The master search for every command." },
            { cmd: "Add Object", key: "Shift + A", desc: "Opens the menu to add meshes, lights, or curves." },
            { cmd: "Wireframe Toggle", key: "Z", desc: "Switch between Solid and Wireframe views." },
            { cmd: "Render Image", key: "F12", desc: "Processes the final image of your scene." },
            { cmd: "Knife Tool", key: "K", desc: "Manually cut new edges into your mesh." },
            { cmd: "Fill Face", key: "F", desc: "Creates a face between selected vertices/edges." },
            { cmd: "Join Objects", key: "Ctrl + J", desc: "Merge multiple objects into one." },
            { cmd: "Subdivide", key: "Right Click", desc: "Divide geometry into smaller parts." }
        ];

        let score = 0;
        let streak = 0;
        let currentQ = null;
        let highScore = localStorage.getItem('blender_high_score') || 0;

        function init() {
            document.getElementById('high-score').innerText = highScore;
            buildReferenceList();
            generateQuestion();
            
            document.getElementById('search-box').addEventListener('input', (e) => {
                buildReferenceList(e.target.value);
            });
        }

        function buildReferenceList(query = "") {
            const list = document.getElementById('ref-list');
            list.innerHTML = "";
            const filtered = hotkeyDatabase.filter(item => 
                item.cmd.toLowerCase().includes(query.toLowerCase()) || 
                item.key.toLowerCase().includes(query.toLowerCase())
            );

            filtered.forEach(item => {
                const div = document.createElement('div');
                div.className = "p-3 bg-gray-50 border rounded-xl flex justify-between items-center";
                div.innerHTML = `
                    <span class="text-xs font-bold text-gray-700">${item.cmd}</span>
                    <span class="text-[10px] font-black bg-white border px-2 py-1 rounded text-orange-600">${item.key}</span>
                `;
                list.appendChild(div);
            });
        }

        function generateQuestion() {
            document.getElementById('question-view').classList.remove('hidden');
            document.getElementById('feedback-view').classList.add('hidden');
            
            currentQ = hotkeyDatabase[Math.floor(Math.random() * hotkeyDatabase.length)];
            document.getElementById('q-text').innerText = currentQ.cmd;

            let choices = [currentQ.key];
            while(choices.length < 4) {
                let r = hotkeyDatabase[Math.floor(Math.random() * hotkeyDatabase.length)].key;
                if(!choices.includes(r)) choices.push(r);
            }
            choices.sort(() => Math.random() - 0.5);

            const grid = document.getElementById('options-grid');
            grid.innerHTML = "";
            choices.forEach(choice => {
                const btn = document.createElement('div');
                btn.className = "option-card bg-white p-6 rounded-2xl font-black text-xl text-gray-700 shadow-sm";
                btn.innerText = choice;
                btn.onclick = () => checkAnswer(choice, btn);
                grid.appendChild(btn);
            });
        }

        function checkAnswer(choice, element) {
            const allOptions = document.querySelectorAll('.option-card');
            allOptions.forEach(opt => opt.style.pointerEvents = 'none');

            const isCorrect = choice === currentQ.key;
            
            if(isCorrect) {
                score += 10;
                streak++;
                element.classList.add('correct-anim');
                showFeedback(true);
            } else {
                streak = 0;
                element.classList.add('wrong-anim');
                // Find and highlight correct one
                allOptions.forEach(opt => {
                    if(opt.innerText === currentQ.key) opt.classList.add('correct-anim');
                });
                showFeedback(false);
            }
            updateUI();
        }

        function showFeedback(isCorrect) {
            setTimeout(() => {
                document.getElementById('question-view').classList.add('hidden');
                document.getElementById('feedback-view').classList.remove('hidden');
                
                const icon = document.getElementById('result-icon');
                const text = document.getElementById('result-text');
                const desc = document.getElementById('result-desc');

                if(isCorrect) {
                    icon.innerText = "ðŸ”¥";
                    text.innerText = "Excellent!";
                    text.className = "text-4xl font-black mb-2 text-green-600";
                    desc.innerText = `You earned 10 points for "${currentQ.cmd}".`;
                } else {
                    icon.innerText = "ðŸ’¡";
                    text.innerText = "Keep Learning!";
                    text.className = "text-4xl font-black mb-2 text-red-600";
                    desc.innerText = `The key for ${currentQ.cmd} is actually ${currentQ.key}.`;
                }
            }, 600);
        }

        function updateUI() {
            document.getElementById('score-val').innerText = score;
            document.getElementById('streak-count').innerText = `${streak} ðŸ”¥`;
            
            // Handle High Score
            if(score > highScore) {
                highScore = score;
                localStorage.setItem('blender_high_score', highScore);
                document.getElementById('high-score').innerText = highScore;
            }

            // Leveling Logic
            const xpProgress = (score % 100);
            document.getElementById('xp-bar').style.width = xpProgress + "%";
            
            let rank = "Novice";
            if(score >= 100) rank = "Apprentice";
            if(score >= 300) rank = "Artisan";
            if(score >= 600) rank = "Sculptor";
            if(score >= 1000) rank = "Master";
            document.getElementById('rank-name').innerText = rank;
        }

        init();
    </script>
</body>
</html>